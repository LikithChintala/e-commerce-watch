<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./styles/home-style.css">
        <link rel="stylesheet" href="./styles/navbar-style.css">

    </head>
    <body>
        <header>

        <nav class="navigation">
          <a href="./home.html" class="brand-name">
            Watch zone
            </a>
            <button
              class="hamburger"
              
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                viewBox="0 0 20 20"
                fill="white"
              >
                <path
                  fillRule="evenodd"
                  d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
                  clipRule="evenodd"
                />
              </svg>
            </button>
            <div
              class="navigation-menu"
            >
              <ul>
               
                <li>
                    Welcome, <span id="userName"></span>
                </li>
                <li>
                  <a href="cart.html">
                    <img src="./images/shopping-cart.png" alt="Shopping-cart" height="24" width="24"/>
                  </a>
                  <span id="cart_count"></span>

                </li>
                <li>
                  <div onclick="logOut()">
                    <img src="./images/logout.png" alt="logout" height="24" width="24"/>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
        </header>
        <main>
            <div class="tab__container">
                <div class="tab active__tab" onclick="tabSwitcher('mens')">
                  Men's
                </div>
                <div class="tab" onclick="tabSwitcher('woman')">
                  Woman's
                </div>
                <div  class="tab" onclick="tabSwitcher('featured')">
                  Featured
                </div>
                
              </div>
      
              <div id="mens" class="tab__body">
                <div class="container">
                  <div class="watch__card">
                    <img src="./images/Demo.png" alt="watch" height="250"/>
                    <h4>Citizen Promaster Dive <br>Automatic<br><span>$200</span></h4>
                    <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                </div>
                    <div class="watch__card">
                        <img src="./images/Demo.png" alt="watch" height="250"/>
                        <h4>Citizen Promaster Dive <br>Automatic<br><span>$300</span></h4>
                        <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                    </div>
                    <div class="watch__card">
                        <img src="./images/Demo.png" alt="watch" height="250"/>
                        <h4>Citizen Promaster Dive <br>Automatic<br><span>$400</span></h4>
                        <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                    </div>
                   
                    
                </div>
                 
              </div>
      
              <div id="woman" class="tab__body" style="display: none">
                <div class="container">
                  <div class="watch__card">
                    <img src="./images/W2.png" alt="watch" height="250"/>
                    <h4>Citizen Promaster Dive <br>Automatic<br><span>$200</span></h4>
                    <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                </div>
                    <div class="watch__card">
                        <img src="./images/W3.png" alt="watch" height="250"/>
                        <h4>Citizen Promaster Dive <br>Automatic<br><span>$300</span></h4>
                        <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                    </div>
                    <div class="watch__card">
                        <img src="./images/W4.png" alt="watch" height="250"/>
                        <h4>Citizen Promaster Dive <br>Automatic<br><span>$400</span></h4>
                        <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                    </div>
                   
                    
                </div>
              </div>
      
              <div id="featured" class="tab__body" style="display: none">
                <div class="container">
                  <div class="watch__card">
                    <img src="./images/Demo.png" alt="watch" height="250"/>
                    <h4>Citizen Promaster Dive <br>Automatic<br><span>$200</span></h4>
                    <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                </div>
                <div class="watch__card">
                  <img src="./images/W2.png" alt="watch" height="250"/>
                  <h4>Citizen Promaster Dive <br>Automatic<br><span>$200</span></h4>
                  <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
              </div>
                    <div class="watch__card">
                        <img src="./images/Demo.png" alt="watch" height="250"/>
                        <h4>Citizen Promaster Dive <br>Automatic<br><span>$400</span></h4>
                        <div class="quick__view"><a href="./quick-view.html">Quick view</a></div>
                    </div>
                   
                    
                </div>              </div>
            
        </main>
        <script>

        window.addEventListener('load', function () {
                let loggedIn =  localStorage.getItem('loggedInUser');
                var userName = loggedIn.split('@')[0];
                document.getElementById("userName").innerHTML = userName;
                let userData = JSON.parse(localStorage.getItem('userData')) || [];
                let cartItems = userData.length && JSON.parse(localStorage.getItem('userData')).find(o => o.email == loggedIn)?.cart;
                console.log("cart items",cartItems)
                document.getElementById("cart_count").innerHTML = cartItems?.length;
        
        })


        function logOut() {
          localStorage.setItem('loggedInUser', "");
          window.location.href = './index.html'
        }
            function tabSwitcher(tabName) {
              var i;
              var x = document.getElementsByClassName("tab__body");
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
              }
              document.getElementById(tabName).style.display = "block";
      
      
              tablinks = document.getElementsByClassName("tab");
              for (i = 0; i < x.length; i++) {
                  tablinks[i].className = tablinks[i].className.replace(" active__tab", "");
              }
              event.currentTarget.className += " active__tab";
      
      
            }
          </script>
        </body>
</html>
